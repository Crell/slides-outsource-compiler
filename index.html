<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Outsourcing to your compiler</title>
  <meta name="author" content="Larry Garfield">
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="palantir-reveal/palantirnet-theme/assets/css/styles.css" id="theme">
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'palantirnet-theme/assets/css/print/pdf.css' : 'palantirnet-theme/assets/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="lib/js/html5shiv.js"></script>
  <![endif]-->

  <style type="text/css">

    .reveal img.graphic {
      width: 100%;
      border-radius: 5px;
    }

    img.screenshot {
      border-radius: 5px;
      width: 800px;
    }

    ul.inline {
      margin: 0;
      padding: 0;
      list-style-type: none;
      text-align: center;
    }

    ul.inline li {
      display: inline;
    }

    .struck {
      text-decoration: line-through;
    }
  </style>

  <script src="palantir-reveal/classer.js"></script>

</head>
<!-- Change body class to "dark" if you prefer a dark theme, or "light" if you'd rather have a light theme-->
<body class="light">
<div class="reveal">
  <div class="logo">
    <p>Palantir.net</p>
  </div>
  <!-- Any section element inside of this container is displayed as a slide -->
  <div class="slides">

    <section>
      <h1>Outsourcing to<br />your compiler</h1>
      <p>
        <small>Presented by <a href="http://www.garfieldtech.com/">Larry Garfield</a> (<a href="http://twitter.com/Crell">@Crell</a>)</small>
      </p>
    </section>
    <section class="l-2up">
      <h2><a href="http://twitter.com/Crell">@Crell</a></h2>
      <div>
        <img src="assets/larry-olaf-hug.jpg" alt="Larry implements Huggable" style="width: 350px; margin: 0" />
      </div>
      <div>
        <ul style="text-wrap: none">
          <li>Senior Architect, <a href="http://www.palantir.net/">Palantir.net</a></li>
          <li style="margin-top: 1em;">Drupal 8 Web Services Lead</li>
          <li style="margin-top: 1em;">Drupal Representative, <a href="http://www.php-fig.org/">PHP-FIG</a></li>
          <li style="margin-top: 1em;">Advisor, Drupal Association</li>
          <li style="margin-top: 1em;"><code>implements Huggable</code></li>
        </ul>
      </div>
    </section>
    <section>
      <section>
        <img src="assets/stomach-embroidery.jpg" alt="The stomach" data-credit="https://www.flickr.com/photos/hey__paul/8479044833/" />
        <aside class="notes">
          <ul>
            <li>Important part of digestion</li>
            <li>Digestion provides calories</li>
            <li>Digestion burns calories</li>
          </ul>
        </aside>
      </section>
      <section>
        <img src="assets/batcave.jpg" alt="When we lived in caves..." data-credit="https://www.flickr.com/photos/caveman_92223/3394520264" />
        <aside class="notes">
          <ul>
            <li>Meat rare, mostly plants; hard to digest</li>
            <li></li>
          </ul>
        </aside>
      </section>
      <section>
        <img src="assets/fire.jpg" alt="We domesticated fire" data-credit="https://www.flickr.com/photos/56218409@N03/13924202045" />
        <aside class="notes">
          <ul>
            <li>400k-1 million years ago</li>
            <li>Evidence sketchy</li>
          </ul>
        </aside>
      </section>
      <section>
        <img src="assets/cooking.jpg" alt="We used it to cook" data-credit="https://www.flickr.com/photos/canadianveggie/7859620564" />
        <aside class="notes">
          <ul>
            <li>~250,000 years ago</li>
            <li>Pre-digest food, eat otherwise toxic food</li>
            <li>More calories, less work</li>
            <li>Outsourced digestion</li>
          </ul>
        </aside>
      </section>
      <section>
        <img src="assets/pinky-and-brain.jpg" alt="Our brains grew!" data-credit="https://www.flickr.com/photos/happysteve/209730193" />
      </section>
      <section>
        <img src="assets/brain-power.jpg" alt="Our brains grew!" data-credit="http://aboutmodafinil.com/" />
        <aside class="notes">
          <ul>
            <li>Fewer calories spent digesting</li>
            <li>More calories available for brains</li>
          </ul>
        </aside>
      </section>
      <section>
        <p class="bigtext">Humans got smarter by making tools<br />do our work for us.</p>
      </section>
    </section>
    <section>
      <section>
        <h2>Make your tools do your job</h2>
      </section>
      <section>
        <p>Your job is...</p>
        <p class="fragment" id="write-code">To write code</p>
        <p class="fragment" id="write-error-free" data-classer="write-code" data-classer-class="struck">To write error-free code</p>
        <p class="fragment" data-classer="write-error-free" data-classer-class="struck">To write correct error-free code</p>
      </section>
      <section>
        <h2>Be smarter</h2>
        <p class="fragment bigtext">Make your tools find the errors for you</p>
        <aside class="notes">
          <ul>
            <li>You focus on business problems, not painful debugging</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>Static analysis</h2>
      </section>
      <section>
        <p id="wrong-look"><q>I can tell it's wrong just by looking at it</q></p>
        <p class="fragment" data-classer="wrong-look" data-classer-class="struck"><q>My tools can tell it's wrong just by looking at it</q></p>
        <aside class="notes">
          <ul>
            <li>Make it easy for your tools to tell it's wrong</li>
            <li>Tool is PHP parser, IDE, separate tool, documentor, etc.</li>
            <li>Pre-digest (execute) your code!</li>
          </ul>
        </aside>
      </section>
    </section>
    <section>
      <section>
        <h2>E_ALL</h2>
      </section>
      <section>
        <h2>What is wrong with this picture?</h2>
        <pre class="font--20"><code class="php" data-trim>
function showForm($user) {
    require_once('form_tools.php');

    if ($user->isAdmin()) {
        $isAdmin = true;
    }

    $out = "&lt;form>";
    $out .= "&lt;input name='name'>";

    if ($isAdmin) {
        $out .= "&lt;select name='role'>";
        $out .= "&lt;option>Admin&lt;/option>\n";
        $out .= "&lt;option>Peon&lt;/option>\n";
        $out .= "&lt;/option>";
    }

    $out .= "&lt;/form>";

    return $out;
}
        </code></pre>
        <pre class="fragment font--18"><code class="text">
          PHP Notice:  Undefined variable: isAdmin in samples.php on line 15
        </code></pre>
        <aside class="notes">
          <ul>
            <li>Is bug? Depends on form_tools.php</li>
            <li>Plenty of other issues here, certainly...</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>Slightly better</h2>
        <pre class="font--20"><code class="php" data-trim>
function showForm($user) {
    require_once('form_tools.php');

    $isAdmin = (bool)($user->isAdmin());

    $out = "&lt;form>";
    $out .= "&lt;input name='name'>";

    if ($isAdmin) {
        $out .= "&lt;select name='role'>";
        $out .= "&lt;option>Admin&lt;/option>\n";
        $out .= "&lt;option>Peon&lt;/option>\n";
        $out .= "&lt;/option>";
    }

    $out .= "&lt;/form>";

    return $out;
}
        </code></pre>
        <aside class="notes">
          <ul>
            <li>Showing errors highlights sloppy code</li>
            <li>Sloppy code is a source of bugs</li>
          </ul>
        </aside>
      </section>

    </section>
    <section>
      <section>
        <h2>Add information to analyze</h2>
        <aside class="notes">
          <ul>
            <li>Can we code in a way that makes bugs even more obvious?</li>
            <li>Include metadata about code, in code</li>
          </ul>
        </aside>
      </section>
      <section>
        <p class="bigtext">Approximate your code</p>
        <aside class="notes">
          <ul>
            <li>Must be safe, ie, accurate</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>Abstracting values</h2>
        <pre class="font--20"><code class="php" data-trim>
function sum_square($a, $b) {
  return ($a * $a) + ($b * $b);
}
        </code></pre>
        <pre class="fragment font--16"><code class="php" data-trim>
Number {
  POSITIVE,
  NEGATIVE,
  ZERO,
  UNKNOWN
}
          </code></pre>
          <pre class="fragment font--16"><code class="php" data-trim>
POSITIVE * POSITIVE = POSITIVE;
POSITIVE * NEGATIVE = NEGATIVE;
NEGATIVE * NEGATIVE = POSITIVE;
POSITIVE * ZERO = ZERO;
NEGATIVE * ZERO  = ZERO;
UNKNOWN  * ZERO = ZERO;
UNKNOWN  * POSITIVE = UNKNOWN;
UNKNOWN  * NEGATIVE = UNKNOWN;

POSITIVE + POSITIVE = POSITIVE;
NEGATIVE + NEGATIVE = NEGATIVE;
POSITIVE + NEGATIVE = UNKNOWN;
POSITIVE + ZERO = POSITIVE;
NEGATIVE + ZERO = NEGATIVE;
POSITIVE + UNKNOWN = UNKNOWN;
NEGATIVE + UNKNOWN = UNKNOWN;
UNKNOWN  + ZERO = UNKNOWN;
        </code></pre>
        <pre class="fragment font--18"><code class="text">
          The result will always be POSITIVE
        </code></pre>
        <aside class="notes">
          <ul>
            <li>What are all possible returns? Infinite</li>
            <li>Approximate to signed numbers; Predict?</li>
            <li>We can do it in our heads; or tools can</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>Errors</h2>
        <pre class="font--18"><code class="php" data-trim>
function bigger($x, $y) {
  return ($x > $y) ? $x : 0;
}

function compute($a, $b, $c) {
  return ($a + $b) / ($b * $c);
}
        </code></pre>
        <pre class="fragment font--18"><code class="php" data-trim>
compute($a, $b, bigger($x, $y));
        </code></pre>
        <p class="fragment" style="margin-top: 1em">What do we know?</p>
        <aside class="notes">
          <ul>
            <li>If $b or $c are zero, fail</li>
            <li>If $y > $x, fail (in combination)</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>Errors</h2>
        <pre class="font--18"><code class="php" data-trim>
function bigger($x, $y) {
  return ($x > $y) ? "the first" : "the second";
}

function compute($a, $b, $c) {
  return ($a + $b) / ($b * $c);
}
        </code></pre>
        <pre class="fragment font--18"><code class="php" data-trim>
compute($a, $b, bigger($x, $y));
        </code></pre>
        <p class="fragment" style="margin-top: 1em">What do we know?</p>
        <aside class="notes">
          <ul>
            <li>If $b or $c are zero, fail</li>
            <li>If $a, $b, $c not nums, fail</li>
            <li>This will always fail! (Except PHP)</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>Put the abstract version in code</h2>
        <pre class="fragment font--16"><code class="php" data-trim>
function bigger(number $x, number $y) {
  return ($x > $y) ? $x : 'the second';
}
function compute(number $a, number $b, number $c) : number {
  return ($a + $b) / ($b * $c);
}
compute($a, $b, bigger($x, $y));
        </code></pre>
        <p class="fragment bigtext">May or may not work</p>
        <pre class="fragment font--16"><code class="php" data-trim>
function bigger(number $x, number $y) : string {
  return ($x > $y) ? "the first" : "the second";
}
function compute(number $a, number $b, number $c) : number {
  return ($a + $b) / ($b * $c);
}
compute($a, $b, bigger($x, $y));
        </code></pre>
        <p class="fragment bigtext">Obviously wrong!</p>
        <pre class="fragment font--16"><code class="php" data-trim>
function bigger(number $x, number $y) : number {
  return ($x > $y) ? 1 : 2;
}
function compute(number $a, number $b, number $c) : number {
  return ($a + $b) / ($b * $c);
}
compute($a, $b, bigger($x, $y));
        </code></pre>
        <p class="fragment bigtext">Cannot fail!</p>
      </section>
      <section>
        <p class="bigtext">Tools can tell you that,<br />if you help them</p>
        <aside class="notes">
          <ul>
            <li>Tool is runtime, compiler, IDE, analysis tool, etc.</li>
          </ul>
        </aside>
      </section>
    </section>
    <section>
      <section>
        <h2>Type systems</h2>
        <div class="fragment">
          <blockquote>A type system is a tractable syntactic method for proving
            the absence of certain program behaviors by classifying phrases
            according to the kinds of values they compute.</blockquote>
          <p>&mdash;Benjamin Pierce, <a href="https://www.cis.upenn.edu/~bcpierce/tapl/">Types and Programming Languages</a></p>
        </div>
        <p class="fragment"><q>Semantic metadata about code we can analyze to find bugs</q></p>
        <aside class="notes">
          <ul>
            <li>Hard to define; Soft Eng and Comp Sci have used differently</li>
            <li>Many different types of type system</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>Typing crash course</h2>
        <div style="text-align: left">
          <dl class="fragment">
            <dt>Static types</dt>
            <dd>Specified ahead of time, analyzed by the compiler</dd>
            <dt>Dynamic types</dt>
            <dd>Derived by the compiler/runtime on the fly</dd>
          </dl>

          <dl class="fragment" style="margin-top: 1em;">
            <dt>Explicit types</dt>
            <dd>Specified in the source code by a human</dd>
            <dt>Implicit types</dt>
            <dd>Compiler derives types from context</dd>
          </dl>

          <dl class="fragment" style="margin-top: 1em;">
            <dt>Strict types (PHP)</dt>
            <dd>Variables only change type explicitly</dd>
            <dt>Weak types (PHP)</dt>
            <dd>Variables can change type implicitly where possible</dd>
          </dl>
        </div>
        <aside class="notes">
          <ul>
            <li>I'm arguing you should use explicit static types</li>
            <li>PHP doesn't do type inference, so explicitness is needed</li>
          </ul>
        </aside>
      </section>
    </section>
    <section>
      <section>
        <h2>Types in PHPractice</h2>
      </section>
      <section>
        <pre class="font--18"><code class="php" data-trim>
function compute_shipping($src, $user) {
  $dest = $user['addres'];

  $distance = distance_between($src, $dest);

  return $distance * .5; // 50 cents/mile
}

function distance_between($src, $dest) {
  // ...
}

compute_shipping('123 Warehouse St., Las Vegas, NV', $user);
        </code></pre>
        <p class="bigtext fragment">HTTP Referer header, anyone?</p>
        <aside class="notes">
          <ul>
            <li>'addres' may not be a typo</li>
            <li>Dialect differences; canceled vs cancelled</li>
            <li>Assume for now it's a bug</li>
          </ul>
        </aside>
      </section>
      <section>
        <pre class="font--18"><code class="php" data-trim>
function compute_shipping($src, $user) {
  $dest = $user['address'];

  $distance = distance_between($src, $dest);

  return $distance * .5; // 50 cents/mile
}

compute_shipping('123 Warehouse St., Las Vegas, NV', $user);
        </code></pre>
        <aside class="notes">
          <ul>
            <li>Is that field even defined?</li>
            <li>Is $user an array?</li>
          </ul>
        </aside>
      </section>
      <section>
        <pre class="font--18"><code class="php" data-trim>
function compute_shipping($src, $user) {
  $dest = $user['address'];

  $distance = distance_between($src, $dest);

  return $distance * .5; // 50 cents/mile
}

$user = 123;
compute_shipping('123 Warehouse St., Las Vegas, NV', $user);
        </code></pre>
        <aside class="notes">
          <ul>
            <li>Kaboom!</li>
            <li>Type inference would catch this, but PHP lacks it</li>
          </ul>
        </aside>
      </section>
      <section>
        <pre class="font--18"><code class="php" data-trim>
function compute_shipping($src, array $user) {
  $dest = $user['address'];

  $distance = distance_between($src, $dest);

  return $distance * .5; // 50 cents/mile
}

$user = 123;
compute_shipping('123 Warehouse St., Las Vegas, NV', $user);
        </code></pre>
        <aside class="notes">
          <ul>
            <li>Now PHP will catch it for us</li>
            <li>Still don't know if 'address' is defined...</li>
          </ul>
        </aside>
      </section>
      <section>
        <pre class="font--18"><code class="php" data-trim>
function compute_shipping($src, array $user) {
  $dest = $user['address'];

  $distance = distance_between($src, $dest);

  return $distance * .5; // 50 cents/mile
}

$user = ['id' => 123];
compute_shipping('123 Warehouse St., Las Vegas, NV', $user);
        </code></pre>
        <aside class="notes">
          <ul>
            <li>And we still can't verify that it's correct</li>
          </ul>
        </aside>
      </section>
      <section>
        <pre class="font--18"><code class="php" data-trim>
class User {
  public $id;
  public $address;

  public function __construct($id, $address) {
    $this->id = $id;
    $this->address = $address;
  }
}

function compute_shipping($src, User $user) {
  $dest = $user->address;

  $distance = distance_between($src, $dest);

  return $distance * .5; // 50 cents/mile
}

$user = new User(/*...*/);

compute_shipping('123 Warehouse St., Las Vegas, NV', $user);
        </code></pre>
        <aside class="notes">
          <ul>
            <li>Now we know what the property is called!</li>
            <li>Property must exist... but is it null? A string?</li>
          </ul>
        </aside>
      </section>
      <section>
        <pre class="font--18"><code class="php" data-trim>
function compute_shipping($src, User $user) {
  $dest = $user->address;

  $distance = distance_between($src, $dest);

  return $distance * .5; // 50 cents/mile
}

$user = new User(123, [
  'street' => '456 Main',
  'city' => 'Chicago',
  'state' => 'IL',
  'zip' => 60614,
]);

compute_shipping('123 Warehouse St., Las Vegas, NV', $user);
        </code></pre>
        <p class="fragment">Does this still work? Up to <code>distance_between()</code></p>
        <aside class="notes">
          <ul>
            <li>Nope, it's an array!</li>
            <li>Does this work?</li>
          </ul>
        </aside>
      </section>
      <section>
        <pre class="font--16"><code class="php" data-trim>
class User {
  public $id;
  public $address;

  public function __construct($id, Address $address) {
    $this->id = $id;
    $this->address = $address;
  }
}

class Address {
  public $street;
  public $city;
  public $state;
  public $zip;
}

function distance_between(Address $src, Address $dest) {
  // ...
}

function compute_shipping($src, User $user) {
  $dest = $user->address;
  $distance = distance_between($src, $dest);
  return $distance * .5; // 50 cents/mile
}

$u_address = new Address();
$u_address->street = '456 Main St.';
$u_address->city = 'Chicago';
$u_address->state = 'IL';
$u_address->zip = 60614;

$user = new User(123, $u_address);
$dest = new Address(); // ...
compute_shipping($dest, $user);
        </code></pre>
        <aside class="notes">
          <ul>
            <li>Statically tell we won't get a syntax error!</li>
            <li>But what if $user->address gets changed?</li>
            <li>PHP has no property types (yet)</li>
          </ul>
        </aside>
      </section>
      <section>
        <pre class="font--18"><code class="php" data-trim>
class User {
  protected $id;
  protected $address;

  public function __construct($id, Address $address) {
    $this->id = $id;
    $this->address = $address;
  }

  public function getAddress() : Address {
    return $this->address;
  }
}

function compute_shipping($src, User $user) {
  $dest = $user->getAddress();

  $distance = distance_between($src, $dest);

  return $distance * .5; // 50 cents/mile
}

$u_address = new Address(); // ...

$user = new User(123, $u_address);

$dest = new Address(); // ...

compute_shipping($dest, $user);
        </code></pre>
        <aside class="notes">
          <ul>
            <li>Return types! New in PHP 7.</li>
            <li>Not nullable, which is safer.</li>
            <li>Protected var + typing = can't not be Address</li>
          </ul>
        </aside>
      </section>


    </section>
    <section>
      <section>
        <h2><code>&lt;aside></code></h2>
      </section>
      <section>
        <h2>Return types</h2>
        <ul>
          <li class="fragment">New in PHP 7!</li>
          <li class="fragment">Not nullable (good)</li>
        </ul>
        <aside class="notes">
          <ul>
            <li>Not null avoids errors</li>
          </ul>
        </aside>
      </section>
      <section>
        <pre class="font--18"><code class="php" data-trim>
$r = new UserRepository();

print $r->findById(123)->getAddress()->getStreet() . PHP_EOL;
        </code></pre>
        <pre class="fragment font--18"><code class="text" data-trim>
          Method called on non-object
        </code></pre>
        <p style="margin-top: 1em" class="fragment">No NULL means:</p>
        <ul>
          <li class="fragment">Exception</li>
          <li class="fragment">"Empty" value object</li>
        </ul>
        <aside class="notes">
          <ul>
            <li>Now you sigh and add a dozen if statements.</li>
            <li>If typed returns, can't be null!  Blows up sooner.</li>
            <li>Solution depends on use case.</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>For Repositories etc.</h2>
        <pre class="font--18"><code class="php" data-trim>
class UserRepository {
  // ...

  public function findById($id) : User {
    if (/* can't find the user */) {
     throw new InvalidArgumentException('No such User: ' . $id);
    }
    return $user;
  }

}
        </code></pre>
        <aside class="notes">
          <ul>
            <li>The rest of the code likely won't work anyway.</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2>For Value objects</h2>
        <pre class="font--18"><code class="php" data-trim>
interface AddressInterface {
  public function getStreet();
  public function getCity();
  public function getState();
  public function getZip();
}

class EmptyAddress implements AddressInterface {
  public function getStreet() { return ''; }
  public function getCity() { return ''; }
  public function getState() { return ''; }
  public function getZip() { return ''; }
}

class Address implements AddressInterface {
    // ...
}
        </code></pre>
        <aside class="notes">
          <ul>
            <li>An empty value is useful, sometimes.</li>
            <li>Very case-by-case.</li>
            <li>Still better than NULL</li>
          </ul>
        </aside>
      </section>
      <section>
        <p class="bigtext"><a href="http://www.garfieldtech.com/blog/empty-return-values">Returning false on a getter</a> is a<br />big 'screw you' to your users</p>
        <aside class="notes">
          <ul>
            <li>Undermines type expectations</li>
            <li>Forces callers to litter code with if-checks.</li>
            <li>User can't rely on types to avoid errors</li>
          </ul>
        </aside>
      </section>
      <section>
        <h2><code>&lt;/aside></code></h2>
      </section>
    </section>
    <section>
      <section>
        <h2>Assertions</h2>
      </section>
    </section>
    <section>
      <section>
        <h2>Functional-style</h2>
      </section>
    </section>


    <div style="display: none">
      Stomach story
      E_ALL | E_STRICT
      assertions
      functional coding style (fewer off-by-one)

      Strict Typing
      Return typing

    </div>

    <section id="resources">
      <h2>Further reading</h2>
      <ul>
        <li><a href="http://computationbook.com/">Understanding Computation</a>, by Tom Stuart</li>
        <li><a href="https://cdsmith.wordpress.com/2011/01/09/an-old-article-i-wrote/">What to know before debating type systems</a>, by Chris Smith</li>
      </ul>
    </section>

    <section id="final">
      <h2>Larry Garfield</h2>
      <p>Senior Architect, <a href="http://www.palantir.net/">Palantir.net</a></p>
      <p>Let's Make Something Good Together.</p>
      <p>Keep tabs on our work at <a href="http://twitter.com/Palantir">@Palantir</a></p>
    </section>

  </div>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>

  // Full list of configuration options available at:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: true,

    transition: 'slide', // none/fade/slide/convex/concave/zoom

    // Optional reveal.js plugins
    dependencies: [
      { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'plugin/zoom-js/zoom.js', async: true },
      { src: 'plugin/notes/notes.js', async: true }
    ]
  });

</script>

</body>
</html>
